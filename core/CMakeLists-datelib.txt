ExternalProject_Add(
  DateWrapperExternal

  GIT_REPOSITORY "https://github.com/ravenvz/date_wrapper"
  GIT_TAG "v0.4.3"

  PREFIX "${DateWrapper_PREFIX}"
  UPDATE_COMMAND ""
  PATCH_COMMAND ""
  INSTALL_COMMAND ""

  SOURCE_DIR "${CMAKE_CURRENT_SOURCE_DIR}/${THIRD_PARTY_LIBS_FOLDER_PREFIX}/date_wrapper"
)

ExternalProject_Get_Property(DateWrapperExternal source_dir)

set(DateWrapper_INCLUDE_DIRS "${source_dir}/src/date_wrapper/include")

# Workaround against Cmake not downloading lib before using it
set(Datewrapper_include_dirs_cmake_bug_wround ${DateWrapper_INCLUDE_DIRS})
# TODO find more elegant way to handle this
set(date_INCLUDE_DIRS "${source_dir}/src/date_wrapper/third_party/date")


add_library(DateWrapper INTERFACE)
add_dependencies(DateWrapper DateWrapperExternal)
